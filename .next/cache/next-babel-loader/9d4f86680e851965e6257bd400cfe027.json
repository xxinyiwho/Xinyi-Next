{"ast":null,"code":"var _jsxFileName = \"/Users/xxinyi/code/Next/Portfolio with Next/Xinyi-Next/node_modules/industry-ui/components/organisms/messaging/send/components/send.js\";\nvar __jsx = React.createElement;\n\n/**\n * Messaging/Send\n */\n// React\nimport React, { useState, useRef } from 'react';\nimport { number, func, array } from 'prop-types'; // UI\n\nimport { Button, EmojiMart, Form, Icon, Textarea, Dropdown } from \"../../../../\"; // Style\n\nimport styled from 'styled-components';\nexport var MessagingSend = function MessagingSend(_ref) {\n  var audienceItems = _ref.audienceItems,\n      onSubmit = _ref.onSubmit,\n      maxLength = _ref.maxLength;\n\n  var _useState = useState(''),\n      message = _useState[0],\n      setMessage = _useState[1];\n\n  var _useState2 = useState(false),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState([]),\n      attachments = _useState3[0],\n      setAttachments = _useState3[1];\n\n  var _useState4 = useState(audienceItems[0] || ''),\n      audience = _useState4[0],\n      setAudience = _useState4[1];\n\n  var fileInputRef = useRef();\n\n  var handleOpenPicker = function handleOpenPicker() {\n    setOpen(false);\n  };\n\n  var openFileDialog = function openFileDialog() {\n    fileInputRef.current.click();\n  };\n\n  var handleFilesChange = function handleFilesChange(e) {\n    var files = e.target.files;\n    setAttachments(files);\n  };\n\n  var handleEmojiSelect = function handleEmojiSelect(emoji) {\n    setMessage(function (prev) {\n      return prev + emoji;\n    });\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var data = {\n      attachments: attachments,\n      audience: audience.id,\n      message: message\n    };\n    onSubmit(data);\n    setMessage('');\n  };\n\n  return __jsx(React.Fragment, null, open && __jsx(StyledPickerContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, __jsx(EmojiMart, {\n    handleOpenPicker: handleOpenPicker,\n    handleSelect: handleEmojiSelect,\n    open: open,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), __jsx(StyledContainer, {\n    audience: audience,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, __jsx(StyledForm, {\n    submit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, audience && __jsx(StyledDropDown, {\n    items: audienceItems,\n    position: \"top\",\n    onChange: function onChange(item) {\n      return setAudience(item);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, audience.name), __jsx(StyledTextarea, {\n    change: function change(e) {\n      return setMessage(e.target.value);\n    },\n    id: \"message\",\n    maxLength: maxLength,\n    placeholder: \"Write message\",\n    rows: 1,\n    value: message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    ref: fileInputRef,\n    type: \"file\",\n    multiple: true,\n    onChange: handleFilesChange,\n    style: {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), __jsx(StyledElements, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(StyledIcon, {\n    fixedWidth: false,\n    icon: \"paperclip\",\n    onClick: openFileDialog,\n    size: \"2x\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), __jsx(StyledIcon, {\n    fixedWidth: false,\n    icon: \"smile\",\n    onClick: function onClick() {\n      return setOpen(!open);\n    },\n    size: \"2x\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), __jsx(Button, {\n    content: \"Send\",\n    context: \"info\",\n    size: \"md\",\n    type: \"submit\",\n    disabled: message.length === 0 && attachments.length === 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })))));\n};\nvar StyledContainer = styled.div.withConfig({\n  displayName: \"send__StyledContainer\",\n  componentId: \"sc-9vxzmo-0\"\n})([\"background-color:#fff;border-bottom:1px solid #c0c0c0;border-top:1px solid #c0c0c0;color:#c0c0c0;padding:\", \";position:relative;box-sizing:border-box;\"], function (_ref2) {\n  var audience = _ref2.audience;\n  return audience ? '1.5rem 1rem 1rem' : '1rem';\n});\nvar StyledPickerContainer = styled(StyledContainer).withConfig({\n  displayName: \"send__StyledPickerContainer\",\n  componentId: \"sc-9vxzmo-1\"\n})([\"bottom:80px;left:15px;padding:0;position:absolute;right:15px;z-index:999;\"]);\nvar StyledForm = styled(Form).withConfig({\n  displayName: \"send__StyledForm\",\n  componentId: \"sc-9vxzmo-2\"\n})([\"display:flex;position:relative;margin:0;\"]);\nvar StyledTextarea = styled(Textarea).withConfig({\n  displayName: \"send__StyledTextarea\",\n  componentId: \"sc-9vxzmo-3\"\n})([\"border:none;line-height:1.5;resize:none;&:focus{border-color:initial;box-shadow:initial;}\"]);\nvar StyledElements = styled.div.withConfig({\n  displayName: \"send__StyledElements\",\n  componentId: \"sc-9vxzmo-4\"\n})([\"align-items:center;display:flex;\"]);\nvar StyledIcon = styled(Icon).withConfig({\n  displayName: \"send__StyledIcon\",\n  componentId: \"sc-9vxzmo-5\"\n})([\"cursor:pointer;margin-right:1rem;&:hover{color:\", \";}\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.COLOUR.info;\n});\nvar StyledDropDown = styled(Dropdown).withConfig({\n  displayName: \"send__StyledDropDown\",\n  componentId: \"sc-9vxzmo-6\"\n})([\"position:absolute;text-transform:uppercase;top:-24px;left:8px;.dropdown--link{color:#000;font-size:10px;}.dropdown--toggle,svg{color:\", \";font-size:10px;}\"], function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.COLOUR.info;\n});\nMessagingSend.propTypes = {\n  audienceItems: array,\n  onSubmit: func.isRequired,\n  maxLength: number\n};\nMessagingSend.defaultProps = {\n  audienceItems: [],\n  maxLength: 320\n};","map":{"version":3,"sources":["/Users/xxinyi/code/Next/Portfolio with Next/Xinyi-Next/node_modules/industry-ui/components/organisms/messaging/send/components/send.js"],"names":["React","useState","useRef","number","func","array","Button","EmojiMart","Form","Icon","Textarea","Dropdown","styled","MessagingSend","audienceItems","onSubmit","maxLength","message","setMessage","open","setOpen","attachments","setAttachments","audience","setAudience","fileInputRef","handleOpenPicker","openFileDialog","current","click","handleFilesChange","e","files","target","handleEmojiSelect","emoji","prev","handleSubmit","preventDefault","data","id","item","name","value","display","length","StyledContainer","div","StyledPickerContainer","StyledForm","StyledTextarea","StyledElements","StyledIcon","theme","COLOUR","info","StyledDropDown","propTypes","isRequired","defaultProps"],"mappings":";;;AAAA;;;AAIA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAoC,YAApC,C,CAEA;;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,IAA5B,EAAkCC,IAAlC,EAAwCC,QAAxC,EAAkDC,QAAlD,uB,CAEA;;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAA4C;AAAA,MAAzCC,aAAyC,QAAzCA,aAAyC;AAAA,MAA1BC,QAA0B,QAA1BA,QAA0B;AAAA,MAAhBC,SAAgB,QAAhBA,SAAgB;;AAAA,kBACzCf,QAAQ,CAAC,EAAD,CADiC;AAAA,MAChEgB,OADgE;AAAA,MACvDC,UADuD;;AAAA,mBAE/CjB,QAAQ,CAAC,KAAD,CAFuC;AAAA,MAEhEkB,IAFgE;AAAA,MAE1DC,OAF0D;;AAAA,mBAGjCnB,QAAQ,CAAC,EAAD,CAHyB;AAAA,MAGhEoB,WAHgE;AAAA,MAGnDC,cAHmD;;AAAA,mBAIvCrB,QAAQ,CAACa,aAAa,CAAC,CAAD,CAAb,IAAoB,EAArB,CAJ+B;AAAA,MAIhES,QAJgE;AAAA,MAItDC,WAJsD;;AAKvE,MAAMC,YAAY,GAAGvB,MAAM,EAA3B;;AAEA,MAAMwB,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BN,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAFD;;AAIA,MAAMO,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3BF,IAAAA,YAAY,CAACG,OAAb,CAAqBC,KAArB;AACD,GAFD;;AAIA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,CAAC,EAAI;AAAA,QACrBC,KADqB,GACXD,CAAC,CAACE,MADS,CACrBD,KADqB;AAE7BV,IAAAA,cAAc,CAACU,KAAD,CAAd;AACD,GAHD;;AAKA,MAAME,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,KAAK,EAAI;AACjCjB,IAAAA,UAAU,CAAC,UAAAkB,IAAI;AAAA,aAAIA,IAAI,GAAGD,KAAX;AAAA,KAAL,CAAV;AACD,GAFD;;AAIA,MAAME,YAAY,GAAG,SAAfA,YAAe,CAAAN,CAAC,EAAI;AACxBA,IAAAA,CAAC,CAACO,cAAF;AAEA,QAAMC,IAAI,GAAG;AACXlB,MAAAA,WAAW,EAAXA,WADW;AAEXE,MAAAA,QAAQ,EAAEA,QAAQ,CAACiB,EAFR;AAGXvB,MAAAA,OAAO,EAAPA;AAHW,KAAb;AAMAF,IAAAA,QAAQ,CAACwB,IAAD,CAAR;AACArB,IAAAA,UAAU,CAAC,EAAD,CAAV;AACD,GAXD;;AAaA,SACE,4BACGC,IAAI,IACH,MAAC,qBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AACE,IAAA,gBAAgB,EAAEO,gBADpB;AAEE,IAAA,YAAY,EAAEQ,iBAFhB;AAGE,IAAA,IAAI,EAAEf,IAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFJ,EAWE,MAAC,eAAD;AAAiB,IAAA,QAAQ,EAAEI,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAY,IAAA,MAAM,EAAEc,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGd,QAAQ,IACP,MAAC,cAAD;AACE,IAAA,KAAK,EAAET,aADT;AAEE,IAAA,QAAQ,EAAC,KAFX;AAGE,IAAA,QAAQ,EAAE,kBAAA2B,IAAI;AAAA,aAAIjB,WAAW,CAACiB,IAAD,CAAf;AAAA,KAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGlB,QAAQ,CAACmB,IALZ,CAFJ,EAWE,MAAC,cAAD;AACE,IAAA,MAAM,EAAE,gBAAAX,CAAC;AAAA,aAAIb,UAAU,CAACa,CAAC,CAACE,MAAF,CAASU,KAAV,CAAd;AAAA,KADX;AAEE,IAAA,EAAE,EAAC,SAFL;AAGE,IAAA,SAAS,EAAE3B,SAHb;AAIE,IAAA,WAAW,EAAC,eAJd;AAKE,IAAA,IAAI,EAAE,CALR;AAME,IAAA,KAAK,EAAEC,OANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,EAoBE;AACE,IAAA,GAAG,EAAEQ,YADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,QAAQ,EAAEK,iBAJZ;AAKE,IAAA,KAAK,EAAE;AAAEc,MAAAA,OAAO,EAAE;AAAX,KALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBF,EA4BE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAY,IAAA,UAAU,EAAE,KAAxB;AAA+B,IAAA,IAAI,EAAC,WAApC;AAAgD,IAAA,OAAO,EAAEjB,cAAzD;AAAyE,IAAA,IAAI,EAAC,IAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,UAAD;AAAY,IAAA,UAAU,EAAE,KAAxB;AAA+B,IAAA,IAAI,EAAC,OAApC;AAA4C,IAAA,OAAO,EAAE;AAAA,aAAMP,OAAO,CAAC,CAACD,IAAF,CAAb;AAAA,KAArD;AAA2E,IAAA,IAAI,EAAC,IAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAIE,MAAC,MAAD;AACE,IAAA,OAAO,EAAC,MADV;AAEE,IAAA,OAAO,EAAC,MAFV;AAGE,IAAA,IAAI,EAAC,IAHP;AAIE,IAAA,IAAI,EAAC,QAJP;AAKE,IAAA,QAAQ,EAAEF,OAAO,CAAC4B,MAAR,KAAmB,CAAnB,IAAwBxB,WAAW,CAACwB,MAAZ,KAAuB,CAL3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CA5BF,CADF,CAXF,CADF;AAyDD,CA9FM;AAgGP,IAAMC,eAAe,GAAGlC,MAAM,CAACmC,GAAV;AAAA;AAAA;AAAA,+JAKR;AAAA,MAAGxB,QAAH,SAAGA,QAAH;AAAA,SAAmBA,QAAQ,GAAG,kBAAH,GAAwB,MAAnD;AAAA,CALQ,CAArB;AAUA,IAAMyB,qBAAqB,GAAGpC,MAAM,CAACkC,eAAD,CAAT;AAAA;AAAA;AAAA,iFAA3B;AASA,IAAMG,UAAU,GAAGrC,MAAM,CAACJ,IAAD,CAAT;AAAA;AAAA;AAAA,gDAAhB;AAMA,IAAM0C,cAAc,GAAGtC,MAAM,CAACF,QAAD,CAAT;AAAA;AAAA;AAAA,iGAApB;AAUA,IAAMyC,cAAc,GAAGvC,MAAM,CAACmC,GAAV;AAAA;AAAA;AAAA,wCAApB;AAKA,IAAMK,UAAU,GAAGxC,MAAM,CAACH,IAAD,CAAT;AAAA;AAAA;AAAA,8DAKH;AAAA,MAAG4C,KAAH,SAAGA,KAAH;AAAA,SAAeA,KAAK,CAACC,MAAN,CAAaC,IAA5B;AAAA,CALG,CAAhB;AASA,IAAMC,cAAc,GAAG5C,MAAM,CAACD,QAAD,CAAT;AAAA;AAAA;AAAA,mKAaP;AAAA,MAAG0C,KAAH,SAAGA,KAAH;AAAA,SAAeA,KAAK,CAACC,MAAN,CAAaC,IAA5B;AAAA,CAbO,CAApB;AAkBA1C,aAAa,CAAC4C,SAAd,GAA0B;AACxB3C,EAAAA,aAAa,EAAET,KADS;AAExBU,EAAAA,QAAQ,EAAEX,IAAI,CAACsD,UAFS;AAGxB1C,EAAAA,SAAS,EAAEb;AAHa,CAA1B;AAMAU,aAAa,CAAC8C,YAAd,GAA6B;AAC3B7C,EAAAA,aAAa,EAAE,EADY;AAE3BE,EAAAA,SAAS,EAAE;AAFgB,CAA7B","sourcesContent":["/**\n * Messaging/Send\n */\n\n// React\nimport React, { useState, useRef } from 'react'\nimport { number, func, array } from 'prop-types'\n\n// UI\nimport { Button, EmojiMart, Form, Icon, Textarea, Dropdown } from '../../../../'\n\n// Style\nimport styled from 'styled-components'\n\nexport const MessagingSend = ({ audienceItems, onSubmit, maxLength }) => {\n  const [message, setMessage] = useState('')\n  const [open, setOpen] = useState(false)\n  const [attachments, setAttachments] = useState([])\n  const [audience, setAudience] = useState(audienceItems[0] || '')\n  const fileInputRef = useRef()\n\n  const handleOpenPicker = () => {\n    setOpen(false)\n  }\n\n  const openFileDialog = () => {\n    fileInputRef.current.click()\n  }\n\n  const handleFilesChange = e => {\n    const { files } = e.target\n    setAttachments(files)\n  }\n\n  const handleEmojiSelect = emoji => {\n    setMessage(prev => prev + emoji)\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n\n    const data = {\n      attachments,\n      audience: audience.id,\n      message\n    }\n\n    onSubmit(data)\n    setMessage('')\n  }\n\n  return (\n    <>\n      {open && (\n        <StyledPickerContainer>\n          <EmojiMart\n            handleOpenPicker={handleOpenPicker}\n            handleSelect={handleEmojiSelect}\n            open={open}\n          />\n        </StyledPickerContainer>\n      )}\n\n      <StyledContainer audience={audience}>\n        <StyledForm submit={handleSubmit}>\n          {audience && (\n            <StyledDropDown\n              items={audienceItems}\n              position='top'\n              onChange={item => setAudience(item)}\n            >\n              {audience.name}\n            </StyledDropDown>\n          )}\n\n          <StyledTextarea\n            change={e => setMessage(e.target.value)}\n            id='message'\n            maxLength={maxLength}\n            placeholder='Write message'\n            rows={1}\n            value={message}\n          />\n\n          <input\n            ref={fileInputRef}\n            type='file'\n            multiple\n            onChange={handleFilesChange}\n            style={{ display: 'none' }}\n          />\n\n          <StyledElements>\n            <StyledIcon fixedWidth={false} icon='paperclip' onClick={openFileDialog} size='2x' />\n            <StyledIcon fixedWidth={false} icon='smile' onClick={() => setOpen(!open)} size='2x' />\n\n            <Button\n              content='Send'\n              context='info'\n              size='md'\n              type='submit'\n              disabled={message.length === 0 && attachments.length === 0}\n            />\n          </StyledElements>\n        </StyledForm>\n      </StyledContainer>\n    </>\n  )\n}\n\nconst StyledContainer = styled.div`\n  background-color: #fff;\n  border-bottom: 1px solid #c0c0c0;\n  border-top: 1px solid #c0c0c0;\n  color: #c0c0c0;\n  padding: ${({ audience }) => (audience ? '1.5rem 1rem 1rem' : '1rem')};\n  position: relative;\n  box-sizing: border-box;\n`\n\nconst StyledPickerContainer = styled(StyledContainer)`\n  bottom: 80px;\n  left: 15px;\n  padding: 0;\n  position: absolute;\n  right: 15px;\n  z-index: 999;\n`\n\nconst StyledForm = styled(Form)`\n  display: flex;\n  position: relative;\n  margin: 0;\n`\n\nconst StyledTextarea = styled(Textarea)`\n  border: none;\n  line-height: 1.5;\n  resize: none;\n\n  &:focus {\n    border-color: initial;\n    box-shadow: initial;\n  }\n`\nconst StyledElements = styled.div`\n  align-items: center;\n  display: flex;\n`\n\nconst StyledIcon = styled(Icon)`\n  cursor: pointer;\n  margin-right: 1rem;\n\n  &:hover {\n    color: ${({ theme }) => theme.COLOUR.info};\n  }\n`\n\nconst StyledDropDown = styled(Dropdown)`\n  position: absolute;\n  text-transform: uppercase;\n  top: -24px;\n  left: 8px;\n\n  .dropdown--link {\n    color: #000;\n    font-size: 10px;\n  }\n\n  .dropdown--toggle,\n  svg {\n    color: ${({ theme }) => theme.COLOUR.info};\n    font-size: 10px;\n  }\n`\n\nMessagingSend.propTypes = {\n  audienceItems: array,\n  onSubmit: func.isRequired,\n  maxLength: number\n}\n\nMessagingSend.defaultProps = {\n  audienceItems: [],\n  maxLength: 320\n}\n"]},"metadata":{},"sourceType":"module"}