{"ast":null,"code":"var _jsxFileName = \"/Users/xxinyi/code/Next/Portfolio with Next/Xinyi-Next/node_modules/industry-ui/components/organisms/messaging/send/components/send.js\";\nvar __jsx = React.createElement;\n\n/**\n * Messaging/Send\n */\n// React\nimport React, { useState, useRef } from 'react';\nimport { number, func, array } from 'prop-types'; // UI\n\nimport { Button, EmojiMart, Form, Icon, Textarea, Dropdown } from \"../../../../\"; // Style\n\nimport styled from 'styled-components';\nexport const MessagingSend = ({\n  audienceItems,\n  onSubmit,\n  maxLength\n}) => {\n  const {\n    0: message,\n    1: setMessage\n  } = useState('');\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n  const {\n    0: attachments,\n    1: setAttachments\n  } = useState([]);\n  const {\n    0: audience,\n    1: setAudience\n  } = useState(audienceItems[0] || '');\n  const fileInputRef = useRef();\n\n  const handleOpenPicker = () => {\n    setOpen(false);\n  };\n\n  const openFileDialog = () => {\n    fileInputRef.current.click();\n  };\n\n  const handleFilesChange = e => {\n    const {\n      files\n    } = e.target;\n    setAttachments(files);\n  };\n\n  const handleEmojiSelect = emoji => {\n    setMessage(prev => prev + emoji);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const data = {\n      attachments,\n      audience: audience.id,\n      message\n    };\n    onSubmit(data);\n    setMessage('');\n  };\n\n  return __jsx(React.Fragment, null, open && __jsx(StyledPickerContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, __jsx(EmojiMart, {\n    handleOpenPicker: handleOpenPicker,\n    handleSelect: handleEmojiSelect,\n    open: open,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), __jsx(StyledContainer, {\n    audience: audience,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, __jsx(StyledForm, {\n    submit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, audience && __jsx(StyledDropDown, {\n    items: audienceItems,\n    position: \"top\",\n    onChange: item => setAudience(item),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, audience.name), __jsx(StyledTextarea, {\n    change: e => setMessage(e.target.value),\n    id: \"message\",\n    maxLength: maxLength,\n    placeholder: \"Write message\",\n    rows: 1,\n    value: message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    ref: fileInputRef,\n    type: \"file\",\n    multiple: true,\n    onChange: handleFilesChange,\n    style: {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), __jsx(StyledElements, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(StyledIcon, {\n    fixedWidth: false,\n    icon: \"paperclip\",\n    onClick: openFileDialog,\n    size: \"2x\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), __jsx(StyledIcon, {\n    fixedWidth: false,\n    icon: \"smile\",\n    onClick: () => setOpen(!open),\n    size: \"2x\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), __jsx(Button, {\n    content: \"Send\",\n    context: \"info\",\n    size: \"md\",\n    type: \"submit\",\n    disabled: message.length === 0 && attachments.length === 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })))));\n};\nconst StyledContainer = styled.div.withConfig({\n  displayName: \"send__StyledContainer\",\n  componentId: \"sc-9vxzmo-0\"\n})([\"background-color:#fff;border-bottom:1px solid #c0c0c0;border-top:1px solid #c0c0c0;color:#c0c0c0;padding:\", \";position:relative;box-sizing:border-box;\"], ({\n  audience\n}) => audience ? '1.5rem 1rem 1rem' : '1rem');\nconst StyledPickerContainer = styled(StyledContainer).withConfig({\n  displayName: \"send__StyledPickerContainer\",\n  componentId: \"sc-9vxzmo-1\"\n})([\"bottom:80px;left:15px;padding:0;position:absolute;right:15px;z-index:999;\"]);\nconst StyledForm = styled(Form).withConfig({\n  displayName: \"send__StyledForm\",\n  componentId: \"sc-9vxzmo-2\"\n})([\"display:flex;position:relative;margin:0;\"]);\nconst StyledTextarea = styled(Textarea).withConfig({\n  displayName: \"send__StyledTextarea\",\n  componentId: \"sc-9vxzmo-3\"\n})([\"border:none;line-height:1.5;resize:none;&:focus{border-color:initial;box-shadow:initial;}\"]);\nconst StyledElements = styled.div.withConfig({\n  displayName: \"send__StyledElements\",\n  componentId: \"sc-9vxzmo-4\"\n})([\"align-items:center;display:flex;\"]);\nconst StyledIcon = styled(Icon).withConfig({\n  displayName: \"send__StyledIcon\",\n  componentId: \"sc-9vxzmo-5\"\n})([\"cursor:pointer;margin-right:1rem;&:hover{color:\", \";}\"], ({\n  theme\n}) => theme.COLOUR.info);\nconst StyledDropDown = styled(Dropdown).withConfig({\n  displayName: \"send__StyledDropDown\",\n  componentId: \"sc-9vxzmo-6\"\n})([\"position:absolute;text-transform:uppercase;top:-24px;left:8px;.dropdown--link{color:#000;font-size:10px;}.dropdown--toggle,svg{color:\", \";font-size:10px;}\"], ({\n  theme\n}) => theme.COLOUR.info);\nMessagingSend.propTypes = {\n  audienceItems: array,\n  onSubmit: func.isRequired,\n  maxLength: number\n};\nMessagingSend.defaultProps = {\n  audienceItems: [],\n  maxLength: 320\n};","map":{"version":3,"sources":["/Users/xxinyi/code/Next/Portfolio with Next/Xinyi-Next/node_modules/industry-ui/components/organisms/messaging/send/components/send.js"],"names":["React","useState","useRef","number","func","array","Button","EmojiMart","Form","Icon","Textarea","Dropdown","styled","MessagingSend","audienceItems","onSubmit","maxLength","message","setMessage","open","setOpen","attachments","setAttachments","audience","setAudience","fileInputRef","handleOpenPicker","openFileDialog","current","click","handleFilesChange","e","files","target","handleEmojiSelect","emoji","prev","handleSubmit","preventDefault","data","id","item","name","value","display","length","StyledContainer","div","StyledPickerContainer","StyledForm","StyledTextarea","StyledElements","StyledIcon","theme","COLOUR","info","StyledDropDown","propTypes","isRequired","defaultProps"],"mappings":"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","sourcesContent":["/**\n * Messaging/Send\n */\n\n// React\nimport React, { useState, useRef } from 'react'\nimport { number, func, array } from 'prop-types'\n\n// UI\nimport { Button, EmojiMart, Form, Icon, Textarea, Dropdown } from '../../../../'\n\n// Style\nimport styled from 'styled-components'\n\nexport const MessagingSend = ({ audienceItems, onSubmit, maxLength }) => {\n  const [message, setMessage] = useState('')\n  const [open, setOpen] = useState(false)\n  const [attachments, setAttachments] = useState([])\n  const [audience, setAudience] = useState(audienceItems[0] || '')\n  const fileInputRef = useRef()\n\n  const handleOpenPicker = () => {\n    setOpen(false)\n  }\n\n  const openFileDialog = () => {\n    fileInputRef.current.click()\n  }\n\n  const handleFilesChange = e => {\n    const { files } = e.target\n    setAttachments(files)\n  }\n\n  const handleEmojiSelect = emoji => {\n    setMessage(prev => prev + emoji)\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n\n    const data = {\n      attachments,\n      audience: audience.id,\n      message\n    }\n\n    onSubmit(data)\n    setMessage('')\n  }\n\n  return (\n    <>\n      {open && (\n        <StyledPickerContainer>\n          <EmojiMart\n            handleOpenPicker={handleOpenPicker}\n            handleSelect={handleEmojiSelect}\n            open={open}\n          />\n        </StyledPickerContainer>\n      )}\n\n      <StyledContainer audience={audience}>\n        <StyledForm submit={handleSubmit}>\n          {audience && (\n            <StyledDropDown\n              items={audienceItems}\n              position='top'\n              onChange={item => setAudience(item)}\n            >\n              {audience.name}\n            </StyledDropDown>\n          )}\n\n          <StyledTextarea\n            change={e => setMessage(e.target.value)}\n            id='message'\n            maxLength={maxLength}\n            placeholder='Write message'\n            rows={1}\n            value={message}\n          />\n\n          <input\n            ref={fileInputRef}\n            type='file'\n            multiple\n            onChange={handleFilesChange}\n            style={{ display: 'none' }}\n          />\n\n          <StyledElements>\n            <StyledIcon fixedWidth={false} icon='paperclip' onClick={openFileDialog} size='2x' />\n            <StyledIcon fixedWidth={false} icon='smile' onClick={() => setOpen(!open)} size='2x' />\n\n            <Button\n              content='Send'\n              context='info'\n              size='md'\n              type='submit'\n              disabled={message.length === 0 && attachments.length === 0}\n            />\n          </StyledElements>\n        </StyledForm>\n      </StyledContainer>\n    </>\n  )\n}\n\nconst StyledContainer = styled.div`\n  background-color: #fff;\n  border-bottom: 1px solid #c0c0c0;\n  border-top: 1px solid #c0c0c0;\n  color: #c0c0c0;\n  padding: ${({ audience }) => (audience ? '1.5rem 1rem 1rem' : '1rem')};\n  position: relative;\n  box-sizing: border-box;\n`\n\nconst StyledPickerContainer = styled(StyledContainer)`\n  bottom: 80px;\n  left: 15px;\n  padding: 0;\n  position: absolute;\n  right: 15px;\n  z-index: 999;\n`\n\nconst StyledForm = styled(Form)`\n  display: flex;\n  position: relative;\n  margin: 0;\n`\n\nconst StyledTextarea = styled(Textarea)`\n  border: none;\n  line-height: 1.5;\n  resize: none;\n\n  &:focus {\n    border-color: initial;\n    box-shadow: initial;\n  }\n`\nconst StyledElements = styled.div`\n  align-items: center;\n  display: flex;\n`\n\nconst StyledIcon = styled(Icon)`\n  cursor: pointer;\n  margin-right: 1rem;\n\n  &:hover {\n    color: ${({ theme }) => theme.COLOUR.info};\n  }\n`\n\nconst StyledDropDown = styled(Dropdown)`\n  position: absolute;\n  text-transform: uppercase;\n  top: -24px;\n  left: 8px;\n\n  .dropdown--link {\n    color: #000;\n    font-size: 10px;\n  }\n\n  .dropdown--toggle,\n  svg {\n    color: ${({ theme }) => theme.COLOUR.info};\n    font-size: 10px;\n  }\n`\n\nMessagingSend.propTypes = {\n  audienceItems: array,\n  onSubmit: func.isRequired,\n  maxLength: number\n}\n\nMessagingSend.defaultProps = {\n  audienceItems: [],\n  maxLength: 320\n}\n"]},"metadata":{},"sourceType":"module"}