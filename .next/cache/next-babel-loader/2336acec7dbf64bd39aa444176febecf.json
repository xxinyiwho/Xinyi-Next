{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nvar _jsxFileName = \"/Users/xxinyi/code/Next/Portfolio with Next/Xinyi-Next/node_modules/industry-ui/components/blog/sidebar/archive.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\n/**\n * Blog - Archive\n * Lists the years and total number of blogs in that year\n *\n * - Group the articles by the year they were written\n * - Link to the archive/yyyy page\n */\n// React\nimport { useEffect, useState } from 'react';\nimport { array, number, object } from 'prop-types'; // UI\n\nimport { formatIntDateYear } from \"../../\";\nimport { BlogList, BlogSection } from \"./components\";\nexport var BlogArchive = function BlogArchive(_ref) {\n  var articles = _ref.articles,\n      config = _ref.config,\n      total = _ref.total;\n\n  var _useState = useState([]),\n      list = _useState[0],\n      setList = _useState[1];\n\n  useEffect(function () {\n    setList(_find());\n  }, []);\n\n  var _find = function _find() {\n    var counts = articles.filter(function (article) {\n      return article.category !== 'terms' && article.homepage !== false;\n    }).reduce(function (p, c) {\n      var year = formatIntDateYear(new Date(c.date));\n\n      if (!Object.prototype.hasOwnProperty.call(p, year)) {\n        p[year] = 0;\n      }\n\n      p[year]++;\n      return p;\n    }, {});\n\n    var countsMapped = _Object$keys(counts).map(function (k) {\n      return {\n        badge: k,\n        name: counts[k],\n        to: \"archive/\".concat(k)\n      };\n    }).reverse();\n\n    return countsMapped;\n  };\n\n  return __jsx(BlogSection, {\n    heading: \"Archive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(BlogList, {\n    config: config,\n    list: list,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }));\n};\nBlogArchive.propTypes = {\n  articles: array.isRequired,\n  config: object.isRequired,\n  total: number\n};\nBlogArchive.defaultProps = {\n  total: 5\n};","map":{"version":3,"sources":["/Users/xxinyi/code/Next/Portfolio with Next/Xinyi-Next/node_modules/industry-ui/components/blog/sidebar/archive.js"],"names":["useEffect","useState","array","number","object","formatIntDateYear","BlogList","BlogSection","BlogArchive","articles","config","total","list","setList","_find","counts","filter","article","category","homepage","reduce","p","c","year","Date","date","Object","prototype","hasOwnProperty","call","countsMapped","map","k","badge","name","to","reverse","propTypes","isRequired","defaultProps"],"mappings":";;;;;AAAA;;;;;;;AAQA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,MAAxB,QAAsC,YAAtC,C,CAEA;;AACA,SAASC,iBAAT;AACA,SAASC,QAAT,EAAmBC,WAAnB;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAiC;AAAA,MAA9BC,QAA8B,QAA9BA,QAA8B;AAAA,MAApBC,MAAoB,QAApBA,MAAoB;AAAA,MAAZC,KAAY,QAAZA,KAAY;;AAAA,kBAClCV,QAAQ,CAAC,EAAD,CAD0B;AAAA,MACnDW,IADmD;AAAA,MAC7CC,OAD6C;;AAG1Db,EAAAA,SAAS,CAAC,YAAM;AACda,IAAAA,OAAO,CAACC,KAAK,EAAN,CAAP;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMA,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClB,QAAMC,MAAM,GAAGN,QAAQ,CAEpBO,MAFY,CAEL,UAAAC,OAAO,EAAI;AACjB,aAAOA,OAAO,CAACC,QAAR,KAAqB,OAArB,IAAgCD,OAAO,CAACE,QAAR,KAAqB,KAA5D;AACD,KAJY,EAMZC,MANY,CAML,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAChB,UAAMC,IAAI,GAAGlB,iBAAiB,CAAC,IAAImB,IAAJ,CAASF,CAAC,CAACG,IAAX,CAAD,CAA9B;;AAEA,UAAI,CAACC,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCE,IAAxC,CAAL,EAAoD;AAClDF,QAAAA,CAAC,CAACE,IAAD,CAAD,GAAU,CAAV;AACD;;AAEDF,MAAAA,CAAC,CAACE,IAAD,CAAD;AAEA,aAAOF,CAAP;AACD,KAhBY,EAgBV,EAhBU,CAAf;;AAkBA,QAAMS,YAAY,GAAG,aAAYf,MAAZ,EAClBgB,GADkB,CACd,UAAAC,CAAC,EAAI;AACR,aAAO;AACLC,QAAAA,KAAK,EAAED,CADF;AAELE,QAAAA,IAAI,EAAEnB,MAAM,CAACiB,CAAD,CAFP;AAGLG,QAAAA,EAAE,oBAAaH,CAAb;AAHG,OAAP;AAKD,KAPkB,EAQlBI,OARkB,EAArB;;AAUA,WAAON,YAAP;AACD,GA9BD;;AAgCA,SACE,MAAC,WAAD;AAAa,IAAA,OAAO,EAAC,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AAAU,IAAA,MAAM,EAAEpB,MAAlB;AAA0B,IAAA,IAAI,EAAEE,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD,CA5CM;AA8CPJ,WAAW,CAAC6B,SAAZ,GAAwB;AACtB5B,EAAAA,QAAQ,EAAEP,KAAK,CAACoC,UADM;AAEtB5B,EAAAA,MAAM,EAAEN,MAAM,CAACkC,UAFO;AAGtB3B,EAAAA,KAAK,EAAER;AAHe,CAAxB;AAMAK,WAAW,CAAC+B,YAAZ,GAA2B;AACzB5B,EAAAA,KAAK,EAAE;AADkB,CAA3B","sourcesContent":["/**\n * Blog - Archive\n * Lists the years and total number of blogs in that year\n *\n * - Group the articles by the year they were written\n * - Link to the archive/yyyy page\n */\n\n// React\nimport { useEffect, useState } from 'react'\nimport { array, number, object } from 'prop-types'\n\n// UI\nimport { formatIntDateYear } from '../../'\nimport { BlogList, BlogSection } from './components'\n\nexport const BlogArchive = ({ articles, config, total }) => {\n  const [list, setList] = useState([])\n\n  useEffect(() => {\n    setList(_find())\n  }, [])\n\n  const _find = () => {\n    const counts = articles\n\n      .filter(article => {\n        return article.category !== 'terms' && article.homepage !== false\n      })\n\n      .reduce((p, c) => {\n        const year = formatIntDateYear(new Date(c.date))\n\n        if (!Object.prototype.hasOwnProperty.call(p, year)) {\n          p[year] = 0\n        }\n\n        p[year]++\n\n        return p\n      }, {})\n\n    const countsMapped = Object.keys(counts)\n      .map(k => {\n        return {\n          badge: k,\n          name: counts[k],\n          to: `archive/${k}`\n        }\n      })\n      .reverse()\n\n    return countsMapped\n  }\n\n  return (\n    <BlogSection heading='Archive'>\n      <BlogList config={config} list={list} />\n    </BlogSection>\n  )\n}\n\nBlogArchive.propTypes = {\n  articles: array.isRequired,\n  config: object.isRequired,\n  total: number\n}\n\nBlogArchive.defaultProps = {\n  total: 5\n}\n"]},"metadata":{},"sourceType":"module"}